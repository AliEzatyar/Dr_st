{% extends 'main__/base.html' %}
{% block title %}خرید ها{% endblock %}
{% block style %}
    <style>
/* General Styles */
body {
  font-family: 'Arial', sans-serif;
  margin: 0;
  padding: 0;
  background-color: #f5f5f5;
  direction: rtl; /* Set the direction to right-to-left for Persian */
}

/* Table Styles */
#table_title {
  text-align: center;
  color: #333;
  margin: 20px 0;
  font-size: 24px;
  font-weight: bold;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
}

#list_table {
  background-color: #fff;
  border-collapse: collapse;
  width: 100%;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

#list_table th, #list_table td {
  padding: 12px 16px;
  text-align: right; /* Set the text alignment to right for Persian */
  border-bottom: 1px solid #ddd;
}

#list_table th {
  background-color: #f2f2f2;
  font-weight: bold;
}

#list_table td {
  vertical-align: middle;
}

#list_table a {
  color: #007bff;
  text-decoration: none;
}

#list_table a:hover {
  color: #0056b3;
}

#list_table .baqi_amount {
  background-color: lightgoldenrodyellow;
  padding: 4px 8px;
  border-radius: 4px;
}

#list_table .delete_button {
  background-color: #dc3545;
  color: #fff;
  border: none;
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
}

#list_table .delete_button:hover {
  background-color: #c82333;
}

/* Responsive Styles */
@media (max-width: 768px) {
  #list_table,
  #list_table thead,
  #list_table tbody,
  #list_table th,
  #list_table td,
  #list_table tr {
    display: block;
  }

  #list_table th {
    position: absolute;
    top: -9999px;
    right: -9999px; /* Set the position to right for Persian */
  }

  #list_table td {
    border: none;
    border-bottom: 1px solid #ddd;
    position: relative;
    padding-right: 50%; /* Set the padding-right for Persian */
  }

  #list_table td:before {
    position: absolute;
    right: 6px; /* Set the position to right for Persian */
    width: 45%;
    padding-left: 10px; /* Set the padding-left for Persian */
    white-space: nowrap;
  }

  #list_table td:nth-of-type(1):before { content: "نام دارو"; }
  #list_table td:nth-of-type(2):before { content: "کمپنی دارو"; }
  #list_table td:nth-of-type(3):before { content: "مقدار خرید"; }
  #list_table td:nth-of-type(4):before { content: "قیمت خرید"; }
  #list_table td:nth-of-type(5):before { content: "مجموع پول"; }
  #list_table td:nth-of-type(6):before { content: "واحد پول"; }
  #list_table td:nth-of-type(7):before { content: "تاریخ خرید"; }
  #list_table td:nth-of-type(8):before { content: "بیل نمبر"; }
  #list_table td:nth-of-type(9):before { content: "تعداد باقی"; }
  #list_table td:nth-of-type(10):before { content: "حذف کردن"; }
}
    </style>
{% endblock %}
{% block content %}
    <h1 id="table_title">خرید ها</h1>
    <table id="list_table">
        <thead>
        <tr>
            <th ><a href="{% url 'main:show_list' 'bgt' %}?sort_by=name" >نام دارو</a></th>
            <th><a href="{% url 'main:show_list' 'bgt' %}?sort_by=company">کمپنی دارو</a></th>
            <th>مقدار خرید</th>
            <th>قیمت خرید</th>
            <th>مجموع پول</th>
            <th>واحد پول</th>
            <th><a href="{% url 'main:show_list' 'bgt' %}?sort_by=date">تاریخ خرید</a></th>
            <th><a href="{% url 'main:show_list' 'bgt' %}?sort_by=bgt_bill">بیل نمبر</a></th>
            <th>تعداد باقی</th>
            <th>حذف کردن</th>

        </tr>
        </thead>
        <tbody>
        {% for bgt in bgts %}
            <tr>
                <td><a href="{{ bgt.get_absolute_url }}">{{ bgt.name }}</a></td>
                <td><a href="{{ bgt.get_absolute_url }}">{{ bgt.company }}</a></td>
                <td>{{ bgt.amount|floatformat:0 }}</td>
                <td>{{ bgt.price|floatformat:1 }}</td>
                <td>{{ bgt.total|floatformat:1 }}</td>
                <td>{{ bgt.currency }}</td>
                <td>{{ bgt.date }}</td>
                <td>{{ bgt.bgt_bill }}</td>
                <td style="background-color: lightgoldenrodyellow">
                    <form id="see_bgts" method="get" action="{% url 'main:show_specific' 'sld' %}">
                        <input type="hidden" value="{{ bgt.name }}&&{{ bgt.company }}" name="data">
                        <input type="submit" value="{{ bgt.baqi_amount|floatformat:0 }}/{{ bgt.amount|floatformat:0 }}">
                    </form>

                </td>
                <td>
                    <form id="delete_form" method="post"
                          action="{% url 'main:delete_bgt' bgt.name bgt.company bgt.date %}">
                        <input style="color: white" type="submit" value="حذف">
                        {% csrf_token %}
                    </form>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}